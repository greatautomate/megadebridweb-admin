<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedusaXD Admin Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>üõ°Ô∏è MedusaXD Admin Dashboard</h1>
            <div class="admin-actions">
                <button id="backToMain" class="secondary-btn">üè† Main App</button>
                <button id="adminLogout" class="logout-btn">üö™ Logout</button>
            </div>
        </header>

        <div class="admin-content">
            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="users">üë• Users</button>
                <button class="tab-btn" data-tab="history">üìä History</button>
                <button class="tab-btn" data-tab="stats">üìà Statistics</button>
            </div>

            <!-- Users Tab -->
            <div id="usersTab" class="tab-content active">
                <div class="section-header">
                    <h2>User Management</h2>
                    <button id="addUserBtn" class="primary-btn">‚ûï Add User</button>
                </div>

                <div class="users-table-container">
                    <table id="usersTable" class="admin-table">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Daily Limit</th>
                                <th>Today Usage</th>
                                <th>Total Gens</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- History Tab -->
            <div id="historyTab" class="tab-content">
                <div class="section-header">
                    <h2>Generation History</h2>
                    <button id="refreshHistory" class="secondary-btn">üîÑ Refresh</button>
                </div>

                <div class="history-table-container">
                    <table id="historyTable" class="admin-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>User</th>
                                <th>Source</th>
                                <th>Filename</th>
                                <th>IP</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Statistics Tab -->
            <div id="statsTab" class="tab-content">
                <h2>System Statistics</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Users</h3>
                        <div class="stat-value" id="totalUsers">-</div>
                    </div>
                    <div class="stat-card">
                        <h3>Active Users</h3>
                        <div class="stat-value" id="activeUsers">-</div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Generations</h3>
                        <div class="stat-value" id="totalGenerations">-</div>
                    </div>
                    <div class="stat-card">
                        <h3>Today's Usage</h3>
                        <div class="stat-value" id="todayUsage">-</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add/Edit User Modal -->
        <div id="userModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">Add New User</h3>
                    <span class="close" id="closeUserModal">&times;</span>
                </div>
                <div class="modal-body">
                    <form id="userForm">
                        <input type="hidden" id="userId">
                        <div class="form-group">
                            <label>Username:</label>
                            <input type="text" id="modalUsername" required>
                        </div>
                        <div class="form-group">
                            <label>Password:</label>
                            <input type="password" id="modalPassword">
                            <small class="form-help">Leave empty to keep current password</small>
                        </div>
                        <div class="form-group">
                            <label>Email:</label>
                            <input type="email" id="modalEmail">
                        </div>
                        <div class="form-group">
                            <label>Role:</label>
                            <select id="modalRole">
                                <option value="user">User</option>
                                <option value="admin">Admin</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Daily Limit:</label>
                            <input type="number" id="modalDailyLimit" min="1" max="10000" value="10">
                        </div>
                        <div class="form-group">
                            <label>Status:</label>
                            <select id="modalStatus">
                                <option value="1">Active</option>
                                <option value="0">Disabled</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="primary-btn">Save</button>
                            <button type="button" id="cancelUser" class="secondary-btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
